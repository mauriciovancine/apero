//# sourceMappingURL=jquery.content-chart.js.map
(function(c,l,m,n){function e(b,f){this.settings=c.extend({},k,f);this.element=b;this.$element=c(b);this._defaults=k;this._name="contentChart";this.init()}var k={toggle:null,title:"Title not set",chartWrapper:".chart-wrapper",labels:null,values:null,tableContainer:null,fillColor:Skin.LINK_COLOR,highlightColor:Skin.LINK_COLOR,chartOptions:{}};c.extend(e.prototype,{init:function(){var b=this,f=c(this.settings.toggle);f.contentToggle({target:b.$element,fx:"slideToggle",callback:function(d){d=c(b.settings.chartWrapper,
d);var g=c("canvas",d).attr({width:d.width(),height:d.height()});d=g.get(0).getContext("2d");var h=b.getChartData(),e=(new Chart(d)).Bar(h,b.settings.chartOptions);d=h.datasets[0].data.map(function(a,b){return[a,h.labels[b]]});var a="",a=a+("<caption>"+h.datasets[0].label+"</caption>"),a=a+'<thead><tr scope="row"><th>Year</th>',a=a+"<th>Amount</th></tr></thead>";c.each(d,function(b,c){a+='<tr scope="row">';a+='<td scope="cell">'+c[1]+"</td>";a+='<td scope="cell">'+c[0]+"</td>";a+="</tr>"});"false"==
f.attr("aria-expanded")?b.settings.tableContainer.html(" "):(b.settings.tableContainer.append(a),setTimeout(function(){b.settings.tableContainer.focus()},500));g.on("click",function(a){var b=e.getBarsAtEvent(a);0<b.length&&(a=f.data("year-url"),b=b[0].label)&&(l.location.href=a+b)});g.on("mousemove",function(a){a=e.getBarsAtEvent(a);g.css("cursor",0<a.length?"pointer":"default")})}})},getChartData:function(){return{labels:this.settings.labels,datasets:[{label:this.settings.title,fillColor:this.settings.fillColor,
highlightFill:this.settings.highlightColor,data:this.settings.values}]}}});c.fn.contentChart=function(b){this.each(function(){c.data(this,"plugin_contentChart")||c.data(this,"plugin_contentChart",new e(this,b))});return this}})(jQuery,window,document);